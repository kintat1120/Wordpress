<style>
.vodiapicker{
  display: none; 
}

#a{
  padding-left: 0px;
  margin: 0;
}

#a img, .btn-select img{
  width: 70px;
}

#a li{
  list-style: none;
  text-align-last:center;
  min-height: 80px;
  padding: 0 20px;
  display: flex;
  align-items: center;
  /*padding-top: 5px;
  padding-bottom: 5px;*/
}

#a li:hover{
 background-color: #E4FF80;
}

#a li img{

  /*margin-left: 50px;*/
}

#a li span, .btn-select li span{
  flex: 1;
}

/* item list */

.b{
  display: none;
  width: 100%;
  max-width: 350px;
  box-shadow: 0 6px 12px rgba(0,0,0,.175);
  border: 1px solid rgba(0,0,0,.15);
  border-radius: 5px;
}

.open{
  display: show !important;
}

.btn-select{
  width: 100%;
  max-width: 350px;
  height: 100%;
  border-radius: 5px;
  background-color: #D4D3CF;
  border: none;
}
.btn-select li{
  padding-left:5px;
  padding-right:5px;
  list-style: none;
  text-align-last:center;
  padding-bottom: 0px;
}

.btn-select:hover li{
  margin-left: 0px;
}

/*.btn-select:hover{
  background-color: #F4F3F3;
  border: 1px solid transparent;
  box-shadow: inset 0 0px 0px 1px #ccc;
}*/

.btn-select:focus{
   outline:none;
}

.lang-select{
  height: 100%;
  width:100%;
}
</style>
<div style="margin-left:200px; margin-right:200px">
    <div style="padding-left:198px; padding-right:198px; padding-top:145px; padding-bottom:145px; height:600px;">
        <div style="display:flex; flex-direction: column; height:100%;">
            <div class="title-EN green-color">Alternative Legal Service</div>
            <div class="title-EN green-color">You Can Trust</div>
            <div class="body-1-CH">正式開展法律程序前&nbsp;做好基本準備&nbsp;節省更多時間！</div>
            <div style="margin-top:auto;">
                <a href="/signup"><button class="navbar-signupBtn"><strong>用戶註冊</strong></button></a>
                <a href="/personallogin"><button class="navbar-personLoginBtn"><strong>個人登入</strong></button></a>
                <a href="/grouplogin"><button class="navbar-groupLoginBtn"><strong>團體登入</strong></button></a>
            </div>
        </div>
        <div class="shadow" style="position:relative; top:30px; height:190px; background-color:white; border-radius:5px; display: flex;">
            <div style="padding: 55px 135px; flex: 1;">
                <div style="display:flex; max-height: 100%;">
                    <div style="padding-right:85px; border-right: 1px #0BCB64 solid;">
                        <div class="sub-title-CH green-color">選擇所需範疇</div>
                        <div class="body-2-CH">Lecopt提供相關資料</div>
                    </div>
                    <div style="padding-left:85px; padding-right:40px; flex: 1;">
                        {#
                        <select class="form-select py-2" style="width:200px; text-align-last:center;">
                            <option selected>選擇範疇</option>
                            <option value="{{ url }}/animalForm">
                                <img src="{{ site.theme.link }}/static/pics/dog.svg" style="width:50px;height:50px;">
                                <span>動物權益</span>
                            </option>
                            <option value="{{ url }}/divorceForm"><strong>離婚事宜</strong></option>
                            <option value="{{ url }}/trafficForm"><strong>交通意外</strong></option>
                            <option value="{{ url }}/landForm"><strong>大廈管理</strong></option>
                            <option value="{{ url }}/businessForm"><strong>創業事宜</strong></option>
                            <option value="#"><strong>其他事宜</strong></option>
                        </select>
                        #}
                        <select class="vodiapicker">
                            <option value="{{ url }}/animalForm" data-thumbnail="{{ site.theme.link }}/static/pics/dog.svg">動物權益</option>
                            <option value="{{ url }}/divorceForm" data-thumbnail="{{ site.theme.link }}/static/pics/divorce.svg">離婚事宜</option>
                            <option value="{{ url }}/trafficForm" data-thumbnail="{{ site.theme.link }}/static/pics/traffic.svg">交通意外</option>
                            <option value="{{ url }}/businessForm" data-thumbnail="{{ site.theme.link }}/static/pics/business.svg">創業事宜</option>
                            <option value="#" data-thumbnail="{{ site.theme.link }}/static/pics/other.svg">其他事宜</option>
                        </select>
                        <div class="lang-select">
                            <button class="btn-select" value=""></button>
                            <div class="b">
                                <ul id="a"></ul>
                            </div>
                        </div>
                    </div>
                    <div style="min-width: 140px;">
                        <button class="border-0" id="search-button" style="background-color:#0BCB64; border-radius:5px; width: 100%; height:100%;">確定</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
$( "#search-button" ).click(function(){
    var selectedFrom = $(".form-select").children("option:selected").val();
    window.location.replace(selectedFrom);
});

//test for getting url value from attr
// var img1 = $('.test').attr("data-thumbnail");
// console.log(img1);

//test for iterating over child elements
var langArray = [];
$('.vodiapicker option').each(function(){
  var img = $(this).attr("data-thumbnail");
  var text = this.innerText;
  var value = $(this).val();
  var item = '<li><img src="'+ img +'" alt="" value="'+value+'"/><span>'+ text +'</span></li>';
  langArray.push(item);
})

$('#a').html(langArray);

//Set the button value to the first el of the array
//$('.btn-select').html(langArray[0]);
$('.btn-select').html('<li><span>選擇範疇</span><i class="fas fa-chevron-down fs-3 green-color" style="float:right;"></i></li>');
//$('.btn-select').attr('value', 'en');

//change button stuff on click
$('#a li').click(function(){
   var img = $(this).find('img').attr("src");
   var value = $(this).find('img').attr('value');
   var text = this.innerText;
   var item = '<li><img src="'+ img +'" alt="" /><span>'+ text +'</span></li>';
   //var item = '<li>'+ text +'<i class="fas fa-chevron-down"></i></li>'
  $('.btn-select').html(item);
  $('.btn-select').attr('value', value);
  $(".b").toggle();
  //console.log(value);
});

$(".btn-select").click(function(){
        $(".b").toggle();
    });

//check local storage for the lang
var sessionLang = localStorage.getItem('lang');
if (sessionLang){
  //find an item with value of sessionLang
  var langIndex = langArray.indexOf(sessionLang);
  $('.btn-select').html(langArray[langIndex]);
  $('.btn-select').attr('value', sessionLang);
} else {
   var langIndex = langArray.indexOf('ch');
  //console.log(langIndex);
  $('.btn-select').html(langArray[langIndex]);
  //$('.btn-select').attr('value', 'en');
}
</script>

{#<img src="{{ site.theme.link }}/static/pics/heading-1.png" style="float:right; margin:0px; padding:0px;">
<div class="row justify-content-center">
    <div class="col-12 col-md-9 col-xl-6 mt-5 text-center">
        <p><strong class="fs-1" style="color:white;">正式開展法律程序前，做好基本準備，節省更多金錢和時間！</strong></p>
    </div>
</div>
<div class="row justify-content-center">
    <div class="col-12 col-xl-4 mt-3 text-center">
        <a href="{{ url }}/personallogin/">
            <button type="button" class="white-bg-button-color white-bg-content heading-1-button">
                <strong>
                    <i class="fas fa-caret-right heading-1-arrow-2"></i>
                    <i class="fas fa-caret-right heading-1-arrow-1"></i>
                    <span class="heading-1-buttonText">立即登入了解更多</span>
                    <i class="fas fa-caret-left heading-1-arrow-1"></i>
                    <i class="fas fa-caret-left heading-1-arrow-2"></i>
                </strong>
            </button>
        </a>
    </div>
</div>
#}
<!--
<div class="row justify-content-center">
    <div class="col-12 col-md-10 col-xl-10">
        <form>
            <div class="shadow p-3 mb-5 bg-white" style="height: 250px;">
                <p class="text-center fs-1 white-bg-title"><strong>選擇範疇</strong></p>
                <p class="text-center fs-5 white-bg-content"><strong>選擇所需範疇，讓我們提供相關服務</strong></p>
                <br/>
                <div class="dropdown text-center">
                    <button class="btn dropdown-toggle dropdown-style" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                        <strong class="fs-6">選擇範疇</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="localhost/trafficForm"><strong>交通意外</strong></a></li>
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="localhost/divorceForm"><strong>離婚事宜</strong></a></li>
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="localhost/landForm"><strong>大廈管理</strong></a></li>
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="localhost/animalForm"><strong>動物權益</strong></a></li>
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="localhost/businessForm"><strong>創業事宜</strong></a></li>
                        <li><a class="dropdown-item fs-6 dropdownItem-style" href="#"><strong>其他問題</strong></a></li>
                    </ul>
                </div>
            </div>
        </form>
    </div>
</div>
-->